<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="../bower_components/graphite-clipboard/granite-clipboard.html" />
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html" />
<link rel="import" href="../bower_components/vaadin-icons/vaadin-icons.html">
<link rel="import" href="../bower_components/skeleton-carousel/skeleton-carousel.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="ryr-rack-request-form.html" />
<link rel="import" href="ryr-email-templatizer.html" />
<link rel="import" href="ryr-preview.html" />
<!-- <link rel="import" href="ryr-specify-coordinates.html" /> -->
<link rel="import" href="ryr-location.html" />
<link rel="import" href="ryr-suggestion-list.html" />

<dom-module id="my-view1">
  <template>
    <style include="shared-styles app-grid-style">
      :host {
        display: block;

        --app-grid-columns: 3;
        --app-grid-gutter: 5px;
        --app-grid-expandible-item-columns: 2;

        --paper-icon-button: {
          width: 64px;
          height: 64px;
        };
      }

      section {
        padding: 15px;
      }

      section:nth-of-type(odd) {
        background-color: var(--app-primary-color);
      }

      section:nth-of-type(even) {
        background-color: var(--app-secondary-color);
      }

      granite-clipboard {
        display: block;
        margin: auto;
        @apply --paper-icon-button;
      }

      #intro p{
        width: 70%;
        margin: auto;
        text-align: center
      }

      #location .item:first-child {
        @apply --app-grid-expandible-item;
      }

      #preview {
        position: relative;
      }

      .bg-primary {
        background-color: var(--app-primary-color);
      }

      .bg-secondary {
        background-color: var(--app-secondary-color);
      }

      .content {
        width: 80%;
        margin: 0 auto;
      }

      .content img {
        display: block;
        width: 100%;
      }

      .section-connector {
        width: 100%;
        height: 75px;
        /* The margin-bottom of -4px is an ugly fix to solve a problem I don't understand. */
        margin: 0 0 -4px 0;
        padding: 0;
      }

      .section-connector:nth-of-type(odd) {
        background-color: var(--app-secondary-color);
        fill: var(--app-primary-color);
      }

      .section-connector:nth-of-type(even) {
        background-color: var(--app-primary-color);
        fill: var(--app-secondary-color);
      }

      .section-title {
        margin: 10px 0;
        border-radius: 10px 10px 10px 10px;
      }

      .section-title h3 {
        display: inline;
        margin: auto 10px;
        color: #212121;
        font-size: 22px;
      }

      .section-title .circle {
        margin: 4px 4px;
        width: 24px;
        height: 24px;
        text-align: center;
        color: #555;
        border-radius: 50%;
        background: #FFF;
        font-size: 16px;
        line-height: 24px;
        border: 1px solid;
      }

      @media (max-width: 600px) {
        :host {
          display: block;

          --app-grid-columns: 1;
          --app-grid-gutter: 5px;
          --app-grid-expandible-item-columns: 1;
        }
      }
    </style>

    <div class="content">

      <img src="/images/carousel/bikehere-r.png"/>

      <section id="intro">
        <div class="app-grid">
          <div class="item icon-big center">
            <iron-icon icon="vaadin:map-marker"></iron-icon>
            <h3>Point</h3>
            <p>
              Point the location on the map where you would like to see a bike rack.
            </p>
          </div>
          <div class="item icon-big center col-4">
            <iron-icon icon="vaadin:check-square-o"></iron-icon>
            <h3>Select</h3>
            <p>
              Select the business sponsoring the request in the list.
            </p>
          </div>
          <div class="item icon-big center col-4">
            <iron-icon icon="vaadin:envelope-o"></iron-icon>
            <h3>Submit</h3>
            <p>
              Submit the request to the city hall.
            </p>
          </div>
        </div>
      </section>

      <svg class="section-connector" viewBox="0 0 10 10" preserveAspectRatio="none">
        <polygon points="0,0 10,0 5,10"/>
      </svg>

      <section id="location">
        <div class="section-title bg-primary">
          <div class="circle">1</div>
          <h3>Select a location</h3>
        </div>
        <div class="app-grid">
          <div class="item item-2cols"><ryr-location  latlong="{{latlong}}"></ryr-location></div>
          <div class="item"><ryr-suggestion-list latlong="[[latlong]]" place-response={{apivars}}></ryr-suggestion-list></div>
        </div>
      </section>

      <svg class="section-connector" viewBox="0 0 10 10" preserveAspectRatio="none">
        <polygon points="0,0 10,0 5,10"/>
      </svg>

      <section id="preview">
        <ryr-email-templatizer templatevars="{{apivars}}" htmlrenderedtemplate="{{buffer}}" markdownrenderedtemplate="{{md}}"></ryr-email-templatizer>
        <div class="section-title bg-secondary">
          <div class="circle">2</div>
          <h3>Preview</h3>
        </div>
        <ryr-preview previewtitle="Preview" htmlrenderedtemplate="[[buffer]]"></ryr-preview>
        <granite-clipboard text="[[md]]">
          <!-- <iron-icon class="icon-medium" icon="vaadin:copy-o"></iron-icon> -->
          <paper-icon-button icon="vaadin:copy-o" title="copy"></paper-icon-button>
        </granite-clipboard>
      </section>

      <svg class="section-connector" viewBox="0 0 10 10" preserveAspectRatio="none">
        <polygon points="0,0 10,0 5,10"/>
      </svg>

      <section>
        <div class="section-title bg-primary">
          <div class="circle">3</div>
          <h3>What to do next?</h3>
        </div>
          <p>
            A clear set of instructions.
          </p>
          <p>
            Glossier readymade pabst PBR&B. Bicycle rights authentic beard hashtag artisan. Fam brunch normcore, vice sartorial twee you probably haven't heard of them snackwave kitsch shabby chic microdosing. Occupy williamsburg +1 keytar, hot chicken cred taiyaki mlkshk master cleanse echo park trust fund post-ironic green juice hell of. Echo park ennui 8-bit man braid, pickled crucifix gochujang ramps.
          </p>
      </section>

    </div>
  </template>

  <script>
    class MyView1 extends Polymer.Element {
      static get is() {
        return 'my-view1';
      }
    }

    window.customElements.define(MyView1.is, MyView1);

  </script>
</dom-module>
